<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kru Pai Classroom ‚Äì ‡πÄ‡∏Å‡∏°‡∏™‡∏≤‡∏£‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</title>
<style>
  :root{
    --bg:#ffffff;--fg:#111;--primary:#e53935;--primary-2:#ffebee;--ok:#2e7d32;--bad:#c62828;--muted:#888;
  }
  html,body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,TH Sarabun New,Prompt,sans-serif;background:var(--bg);color:var(--fg);} 
  .wrap{max-width:900px;margin:0 auto;padding:20px 16px 64px;}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px;background:var(--primary-2);border-bottom:3px solid var(--primary);padding:14px 16px;border-radius:16px;margin-bottom:16px}
  header h1{font-size:clamp(18px,4vw,28px);margin:0;line-height:1.2}
  header .brand{font-weight:700;color:var(--primary)}
  .card{background:#fff;border:1px solid #eee;border-radius:18px;box-shadow:0 6px 24px rgba(0,0,0,.06);padding:18px;margin:14px 0}
  .start h2{margin:0 0 8px;font-size:clamp(18px,3.6vw,24px)}
  .row{display:grid;grid-template-columns:1fr;gap:12px}
  label{font-size:14px;color:#444}
  input[type=text]{width:100%;padding:14px 16px;border-radius:14px;border:1px solid #ddd;font-size:16px}
  button{cursor:pointer;border:none;padding:12px 18px;border-radius:14px;font-weight:700}
  .btn-primary{background:var(--primary);color:#fff}
  .btn-ghost{background:#f6f6f6}
  .meta{display:flex;gap:10px;flex-wrap:wrap;font-size:14px;color:#444}
  .chip{background:#f5f5f5;border-radius:999px;padding:6px 10px}
  .hidden{display:none}
  .qno{font-weight:700;color:var(--primary)}
  .question{font-size:18px;line-height:1.45;margin-bottom:10px}
  .opts{display:grid;gap:10px;margin-top:8px}
  .opt{border:1px solid #e5e5e5;border-radius:14px;padding:12px 14px;display:flex;gap:12px;align-items:flex-start}
  .opt input{margin-top:3px}
  .opt.correct{border-color:var(--ok);background:#f3fff4}
  .opt.wrong{border-color:var(--bad);background:#fff5f5}
  .explain{font-size:14px;color:#333;margin-top:8px;border-left:3px solid #eee;padding-left:10px}
  .statusbar{display:flex;gap:12px;align-items:center;justify-content:space-between;position:sticky;top:0;background:#fff;border:1px solid #eee;border-radius:14px;padding:10px 12px;margin:10px 0;z-index:5}
  .bar{flex:1;height:10px;background:#eee;border-radius:999px;overflow:hidden}
  .bar>i{display:block;height:100%;width:0;background:var(--primary)}
  .score{font-weight:800}
  .timer{font-feature-settings:"tnum" 1, "lnum" 1; font-variant-numeric:tabular-nums}
  .footer{text-align:center;color:#666;margin-top:24px}
  .result h2{margin:8px 0 4px}
  .badge{display:inline-block;background:var(--primary);color:#fff;padding:6px 10px;border-radius:999px;font-size:14px;font-weight:700}
  .grid-2{display:grid;grid-template-columns:1fr;gap:12px}
  @media(min-width:720px){.grid-2{grid-template-columns:1fr 1fr}}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div>
      <div class="brand">Kru Pai Classroom</div>
      <h1>‡πÄ‡∏Å‡∏°‡∏™‡∏≤‡∏£‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô ‚Äì Speed Quiz</h1>
    </div>
    <div class="badge" id="phase">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</div>
  </header>

  <!-- Start Screen -->
  <section id="start" class="card start">
    <h2>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö üåü</h2>
    <p>‡πÉ‡∏™‡πà <strong>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠ ‡∏ï‡∏≠‡∏ö‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤!</p>
    <div class="row grid-2">
      <div>
        <label>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô</label>
        <input id="player" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô Pancake"/>
      </div>
    </div>
    <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
      <button class="btn-primary" id="btnStart">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</button>
    </div>
  </section>

  <!-- Quiz Screen -->
  <section id="quiz" class="hidden">
    <div class="statusbar">
      <div class="meta"><span>‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: <strong id="who">-</strong></span> <span class="chip">‡∏Ç‡πâ‡∏≠ <span id="cur">1</span>/<span id="total">-</span></span> <span class="chip score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô <span id="pts">0</span></span></div>
      <div class="meta"><span class="timer">‚è≥ <span id="left">00</span>s</span></div>
    </div>
    <div id="qArea" class="card"></div>
    <div style="display:flex;gap:10px;flex-wrap:wrap">
      <button id="btnPrev" class="btn-ghost">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
      <button id="btnNext" class="btn-primary">‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚ñ∂</button>
      <button id="btnFinish" class="btn-ghost hidden">‡∏à‡∏ö‡πÄ‡∏Å‡∏°</button>
    </div>
  </section>

  <!-- Result Screen -->
  <section id="result" class="hidden card result">
    <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üéâ</h2>
    <p><strong id="sumName"></strong> ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô <strong id="sumScore">0</strong> / <span id="sumTotal">0</span></p>
    <div style="display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 6px">
      <button class="btn-primary" id="btnReview">‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢</button>
      <button class="btn-ghost" id="btnRestart">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
    </div>
    <div id="review" class="hidden"></div>
  </section>

  <div class="footer">¬© Kru Pai Classroom ¬∑ Speed Quiz 40 ‡∏Ç‡πâ‡∏≠</div>
</div>

<script>
const CHOICES = ["‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢","‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå","‡∏™‡∏≤‡∏£‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢"];
const DATA40 = [
  {name:"‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠", answer:0, note:"‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡πÉ‡∏ô‡∏ô‡πâ‡∏≥"},
  {name:"‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥", answer:0, note:"‡∏ô‡πâ‡∏≥‡∏´‡∏ß‡∏≤‡∏ô‡πÉ‡∏™"},
  {name:"‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°‡∏™‡∏≤‡∏¢‡∏ä‡∏π", answer:0, note:"‡∏Å‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°‡πÉ‡∏ô‡∏ô‡πâ‡∏≥"},
  {name:"‡∏ô‡πâ‡∏≥‡∏ó‡∏∞‡πÄ‡∏•", answer:0, note:"‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏ô‡∏¥‡∏î‡∏•‡∏∞‡∏•‡∏≤‡∏¢"},
  {name:"‡∏≠‡∏≤‡∏Å‡∏≤‡∏®", answer:0, note:"‡πÅ‡∏Å‡πä‡∏™‡∏ú‡∏™‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"},
  {name:"‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏î‡∏•‡∏° (‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏ù‡∏≤)", answer:0, note:"CO‚ÇÇ ‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß"},
  {name:"‡πÅ‡∏≠‡∏•‡∏Å‡∏≠‡∏Æ‡∏≠‡∏•‡πå‡∏ú‡∏™‡∏°‡∏ô‡πâ‡∏≥", answer:0, note:"‡πÄ‡∏≠‡∏ó‡∏≤‡∏ô‡∏≠‡∏•+‡∏ô‡πâ‡∏≥"},
  {name:"‡∏ó‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á", answer:0, note:"‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ç‡πá‡∏á‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ç‡πá‡∏á (‡πÇ‡∏•‡∏´‡∏∞‡∏ú‡∏™‡∏°)"},
  {name:"‡∏ö‡∏£‡∏≠‡∏ô‡∏ã‡πå", answer:0, note:"‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á+‡∏î‡∏µ‡∏ö‡∏∏‡∏Å ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"},
  {name:"‡∏ô‡πâ‡∏≥‡∏ä‡∏≤‡πÉ‡∏™ (‡∏Å‡∏£‡∏≠‡∏á‡∏Å‡∏≤‡∏Å‡∏≠‡∏≠‡∏Å)", answer:0, note:"‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏ä‡∏≤"},
  {name:"‡∏ô‡πâ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏¢‡∏≤", answer:0, note:"‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•/‡∏ï‡∏±‡∏ß‡∏¢‡∏≤‡∏•‡∏∞‡∏•‡∏≤‡∏¢"},
  {name:"‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÅ‡∏£‡πà (ORS)", answer:0, note:"‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡πÇ‡∏ó‡∏£‡πÑ‡∏•‡∏ï‡πå‡πÉ‡∏ô‡∏ô‡πâ‡∏≥"},
  {name:"‡∏ô‡πâ‡∏≥‡∏õ‡∏π‡∏ô‡πÉ‡∏™", answer:0, note:"Ca(OH)‚ÇÇ ‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡πÉ‡∏ô‡∏ô‡πâ‡∏≥ (‡πÉ‡∏™)"},
  {name:"‡∏ô‡πâ‡∏≥‡∏ô‡∏°", answer:1, note:"‡∏≠‡∏¥‡∏°‡∏±‡∏•‡∏ä‡∏±‡∏ô ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡πÉ‡∏ô‡∏ô‡πâ‡∏≥"},
  {name:"‡∏ô‡πâ‡∏≥‡∏ô‡∏°‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á", answer:1, note:"‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô/‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ï‡∏±‡∏ß"},
  {name:"‡∏°‡∏≤‡∏¢‡∏≠‡∏á‡πÄ‡∏ô‡∏™", answer:1, note:"‡∏≠‡∏¥‡∏°‡∏±‡∏•‡∏ä‡∏±‡∏ô ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡πÉ‡∏ô‡∏ô‡πâ‡∏≥"},
  {name:"‡πÄ‡∏ô‡∏¢/‡∏°‡∏≤‡∏Å‡∏≤‡∏£‡∏µ‡∏ô", answer:1, note:"‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô (W/O)"},
  {name:"‡∏Ñ‡∏£‡∏µ‡∏°/‡πÇ‡∏•‡∏ä‡∏±‡πà‡∏ô‡∏ó‡∏≤‡∏ú‡∏¥‡∏ß", answer:1, note:"‡∏≠‡∏¥‡∏°‡∏±‡∏•‡∏ä‡∏±‡∏ô‡∏Ñ‡∏£‡∏µ‡∏°"},
  {name:"‡∏¢‡∏≤‡∏™‡∏£‡∏∞‡∏ú‡∏°", answer:1, note:"‡πÑ‡∏°‡πÄ‡∏ã‡∏•‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏™‡∏≤‡∏£‡∏•‡∏î‡πÅ‡∏£‡∏á‡∏ï‡∏∂‡∏á‡∏ú‡∏¥‡∏ß"},
  {name:"‡∏ô‡πâ‡∏≥‡∏™‡∏ö‡∏π‡πà", answer:1, note:"‡πÑ‡∏°‡πÄ‡∏ã‡∏•‡∏•‡πå‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå"},
  {name:"‡πÅ‡∏õ‡πâ‡∏á‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î‡πÉ‡∏ô‡∏ô‡πâ‡∏≥ (‡∏™‡∏≤‡∏£‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡πÅ‡∏õ‡πâ‡∏á)", answer:1, note:"sol ‡∏Ç‡∏≠‡∏á‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡πÅ‡∏õ‡πâ‡∏á"},
  {name:"‡πÄ‡∏à‡∏•‡∏≤‡∏ï‡∏¥‡∏ô‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏ô‡πâ‡∏≥", answer:1, note:"‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏à‡∏•/sol"},
  {name:"‡πÄ‡∏à‡∏•‡∏ß‡πà‡∏≤‡∏ô‡∏´‡∏≤‡∏á‡∏à‡∏£‡∏∞‡πÄ‡∏Ç‡πâ", answer:1, note:"‡πÄ‡∏à‡∏•‡∏Ç‡∏≠‡∏á‡πÇ‡∏û‡∏•‡∏¥‡πÄ‡∏°‡∏≠‡∏£‡πå‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥"},
  {name:"‡πÇ‡∏ü‡∏°‡πÇ‡∏Å‡∏ô‡∏´‡∏ô‡∏ß‡∏î", answer:1, note:"‡πÅ‡∏Å‡πä‡∏™‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß (‡πÇ‡∏ü‡∏°)"},
  {name:"‡∏Ñ‡∏ß‡∏±‡∏ô‡∏ò‡∏π‡∏õ", answer:1, note:"‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ç‡πá‡∏á‡πÉ‡∏ô‡πÅ‡∏Å‡πä‡∏™ (aerosol)"},
  {name:"‡∏´‡∏°‡∏≠‡∏Å/‡∏ù‡πâ‡∏≤", answer:1, note:"‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß‡πÉ‡∏ô‡πÅ‡∏Å‡πä‡∏™ (aerosol)"},
  {name:"‡∏´‡∏°‡∏∂‡∏Å‡∏à‡∏µ‡∏ô", answer:1, note:"‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≠‡∏ô‡∏Ñ‡∏≠‡∏•‡∏•‡∏≠‡∏¢‡∏î‡πå‡πÉ‡∏ô‡∏ô‡πâ‡∏≥"},
  {name:"‡∏ô‡πâ‡∏≥‡πÇ‡∏Ñ‡∏•‡∏ô", answer:2, note:"‡∏î‡∏¥‡∏ô‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡∏ï‡∏Å‡πÑ‡∏î‡πâ"},
  {name:"‡∏ó‡∏£‡∏≤‡∏¢‡∏ú‡∏™‡∏°‡∏ô‡πâ‡∏≥", answer:2, note:"‡πÄ‡∏°‡πá‡∏î‡πÉ‡∏´‡∏ç‡πà ‡∏ï‡∏Å‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô"},
  {name:"‡∏ú‡∏á‡∏ä‡∏≠‡∏•‡πå‡∏Å‡πÉ‡∏ô‡∏ô‡πâ‡∏≥", answer:2, note:"‡∏Å‡∏£‡∏≠‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏î‡πâ"},
  {name:"‡∏ú‡∏á‡∏ñ‡πà‡∏≤‡∏ô‡πÉ‡∏ô‡∏ô‡πâ‡∏≥", answer:2, note:"‡∏ï‡∏Å‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô/‡∏Å‡∏£‡∏≠‡∏á‡πÑ‡∏î‡πâ"},
  {name:"‡∏î‡∏¥‡∏ô‡∏™‡∏≠‡∏û‡∏≠‡∏á‡πÉ‡∏ô‡∏ô‡πâ‡∏≥", answer:2, note:"‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡∏Ç‡∏∏‡πà‡∏ô"},
  {name:"‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°‡∏Ñ‡∏±‡πâ‡∏ô‡∏°‡∏µ‡πÄ‡∏¢‡∏∑‡πà‡∏≠", answer:2, note:"‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏•‡∏≠‡∏¢/‡∏ï‡∏Å"},
  {name:"‡πÇ‡∏Å‡πÇ‡∏Å‡πâ‡πÄ‡∏¢‡πá‡∏ô‡πÉ‡∏™‡πà‡∏ú‡∏á (‡∏Ñ‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏°‡∏î)", answer:2, note:"‡∏ú‡∏á‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢"},
  {name:"‡∏¢‡∏≤‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡∏ß‡∏ô‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô (suspension)", answer:2, note:"‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏¢‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ"},
  {name:"‡∏™‡∏µ‡∏ô‡πâ‡∏≥/‡∏™‡∏µ‡πÇ‡∏õ‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå", answer:2, note:"‡∏£‡∏á‡∏Ñ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢"},
  {name:"‡∏ô‡πâ‡∏≥‡πÅ‡∏õ‡πâ‡∏á‡∏î‡∏¥‡∏ö‡∏Ç‡πâ‡∏ô (slurry)", answer:2, note:"‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡πÉ‡∏´‡∏ç‡πà ‡∏ï‡∏Å‡πÑ‡∏î‡πâ"},
  {name:"‡∏™‡∏°‡∏π‡∏ó‡∏ï‡∏µ‡πâ/‡∏ô‡πâ‡∏≥‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏õ‡∏±‡πà‡∏ô", answer:2, note:"‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏ú‡∏•‡πÑ‡∏°‡πâ‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢"},
  {name:"‡∏ù‡∏∏‡πà‡∏ô‡∏´‡∏¢‡∏≤‡∏ö‡πÉ‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏®", answer:2, note:"‡∏≠‡∏ô‡∏∏‡∏†‡∏≤‡∏Ñ‡πÉ‡∏´‡∏ç‡πà ‡∏ï‡∏Å‡∏•‡∏á‡πÑ‡∏î‡πâ"},
  {name:"‡∏õ‡∏π‡∏ô‡πÅ‡∏î‡∏á‡∏ú‡∏™‡∏°‡∏ô‡πâ‡∏≥ (‡∏Ç‡∏∏‡πà‡∏ô)", answer:2, note:"‡∏°‡∏µ‡∏ï‡∏∞‡∏Å‡∏≠‡∏ô‡∏õ‡∏π‡∏ô‡πÅ‡∏Ç‡∏ß‡∏ô‡∏•‡∏≠‡∏¢"}
];

// Shuffle questions to avoid category grouping
(function(){
  try{
    // Fisher‚ÄìYates
    for(let i = DATA40.length - 1; i > 0; i--){
      const j = Math.floor(Math.random() * (i + 1));
      [DATA40[i], DATA40[j]] = [DATA40[j], DATA40[i]];
    }
  }catch(e){}
})();


const QUESTIONS = DATA40.map((d,i)=>({
  no:i+1,
  q:`‡∏™‡∏≤‡∏£‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î: ${d.name}`,
  choices:CHOICES,
  answer:d.answer,
  explain:d.note
}));

const el = id=>document.getElementById(id);
const start = el('start');
const quiz = el('quiz');
const result = el('result');
const phase = el('phase');

el('total').textContent = QUESTIONS.length;

let state = {i:0, score:0, secs:10, timer:null, remain:10, name:"-", answers:[]};

function fmt(n){return String(n).padStart(2,'0')}

function renderQ(){
  const item = QUESTIONS[state.i];
  el('cur').textContent = state.i+1; 
  const html = `
    <div class="qno">‡∏Ç‡πâ‡∏≠ ${state.i+1}</div>
    <div class="question">${item.q}</div>
    <div class="opts">
      ${item.choices.map((c,idx)=>{
        return `<label class="opt"><input type="radio" name="opt" value="${idx}"> <div>${idx+1}. ${c}</div></label>`
      }).join('')}
    </div>
    <div class="explain hidden" id="exp">${item.explain||''}</div>
  `;
  el('qArea').innerHTML = html;
  el('left').textContent = fmt(state.secs);
  const bar = document.createElement('div');
  bar.className = 'bar';
  const fill = document.createElement('i');
  bar.appendChild(fill);
  el('qArea').prepend(bar);
  let t = state.secs, total = state.secs;
  clearInterval(state.timer);
  state.timer = setInterval(()=>{
    t--; state.remain = t; el('left').textContent = fmt(Math.max(0,t));
    fill.style.width = `${100*(1 - (t/total))}%`;
    if(t<=0){ clearInterval(state.timer); lockAndCheck(null); }
  },1000);
  el('qArea').querySelectorAll('input[name="opt"]').forEach(r=>{
    r.addEventListener('change',()=> lockAndCheck(parseInt(r.value,10)) )
  });
  el('btnPrev').disabled = state.i===0;
  el('btnNext').classList.toggle('hidden', state.i===QUESTIONS.length-1);
  el('btnFinish').classList.toggle('hidden', state.i!==QUESTIONS.length-1);
}

function lockAndCheck(selected){
  clearInterval(state.timer);
  const item = QUESTIONS[state.i];
  const list = el('qArea').querySelectorAll('.opt');
  list.forEach((row,idx)=>{
    row.classList.remove('correct','wrong');
    const inp = row.querySelector('input');
    if(inp) inp.disabled = true;
    if(idx===item.answer) row.classList.add('correct');
    if(selected!==null){ if(idx===selected && selected!==item.answer) row.classList.add('wrong'); }
  });
  const ok = selected===item.answer; 
  if(selected!==null && ok){ state.score++; }
  state.answers[state.i] = {sel:selected, ok};
  el('pts').textContent = state.score;
  const exp = el('exp');
  if(exp && (item.explain||'').length){ exp.classList.remove('hidden'); }
}

el('btnStart').onclick = ()=>{
  state.name = (el('player').value||'‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô');
  state.secs = 10;
  state.i=0; state.score=0; state.answers=[];
  el('who').textContent = state.name; el('pts').textContent = '0'; el('total').textContent = QUESTIONS.length;
  start.classList.add('hidden'); quiz.classList.remove('hidden'); result.classList.add('hidden'); phase.textContent='‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö';
  renderQ();
};

el('btnNext').onclick = ()=>{ if(state.i<QUESTIONS.length-1){ state.i++; renderQ(); } };

el('btnPrev').onclick = ()=>{ if(state.i>0){ state.i--; renderQ(); } };
</script>
</body>
</html>
